<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>مكتبة كتب الأمن السيبراني</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700&display=swap" rel="stylesheet" />
  <style>
    * {
      margin: 0; padding: 0; box-sizing: border-box;
    }
    body {
      font-family: 'Cairo', sans-serif;
      background: #002200; /* أخضر داكن جدًا */
      color: #bfa65a; /* ذهبي هادي */
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 20px;
      overflow-x: hidden;
      direction: rtl;
    }
    .container {
      max-width: 1100px;
      width: 100%;
      background: #003300;
      border-radius: 15px;
      box-shadow: 0 0 15px #bfa65a88;
      padding: 25px 30px;
    }
    header {
      display: flex;
      align-items: center;
      gap: 25px;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 30px;
    }
    header img.logo {
      width: 150px;
      height: auto;
      border-radius: 12px;
      box-shadow: 0 0 15px #bfa65a88;
      flex-shrink: 0;
    }
    header div.texts {
      text-align: center;
      flex-grow: 1;
    }
    header h1 {
      font-size: 3rem;
      font-weight: 900;
      color: #bfa65a;
      user-select: none;
    }
    header p.lead {
      margin-top: 8px;
      font-size: 1.2rem;
      opacity: 0.8;
      user-select: none;
      color: #c5bb7d;
    }
    .controls {
      display: flex;
      gap: 15px;
      margin-bottom: 25px;
      flex-wrap: wrap;
      justify-content: center;
    }
    input[type="search"],
    select {
      padding: 14px 18px;
      font-size: 1rem;
      border-radius: 15px;
      border: none;
      outline: none;
      background: #1a3a00;
      color: #bfa65a;
      min-width: 220px;
      transition: background 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
      box-shadow: inset 0 0 5px #bfa65a44;
    }
    input[type="search"]::placeholder {
      color: #bfa65a88;
    }
    input[type="search"]:focus,
    select:focus {
      background: #2b5511;
      box-shadow: 0 0 10px #bfa65aaa;
      color: #e9d47d;
      cursor: text;
    }
    select {
      cursor: pointer;
      color: #bfa65a;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }
    .card {
      background: #1f3d00;
      border-radius: 18px;
      padding: 18px;
      box-shadow: 0 0 8px #bfa65a44;
      display: flex;
      flex-direction: column;
      gap: 14px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      user-select: none;
    }
    .card:hover {
      transform: scale(1.04);
      box-shadow: 0 0 18px #bfa65a99;
      cursor: pointer;
    }
    .cover {
      height: 160px;
      border-radius: 15px;
      background: #092100;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.8rem;
      font-weight: 900;
      color: #bfa65a;
      user-select: none;
      text-align: center;
      padding: 10px;
      word-break: break-word;
    }
    .title {
      font-weight: 900;
      font-size: 1.3rem;
      color: #bfa65a;
    }
    .meta {
      font-size: 1rem;
      opacity: 0.8;
      color: #c5bb7d;
    }
    .tags {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .tag {
      background: #bfa65a55;
      color: #202000;
      font-weight: 700;
      font-size: 0.85rem;
      padding: 7px 14px;
      border-radius: 50px;
      user-select: none;
      box-shadow: 0 0 4px #bfa65a88;
    }
    .actions {
      margin-top: auto;
    }
    .btn {
      background: #bfa65a;
      color: #202000;
      font-weight: 900;
      padding: 12px 0;
      border-radius: 15px;
      text-align: center;
      text-decoration: none;
      display: block;
      transition: background 0.3s ease;
      user-select: none;
    }
    .btn:hover {
      background: #d4c96b;
    }
    footer {
      margin-top: 35px;
      text-align: center;
      font-size: 1rem;
      color: #bfa65aaa;
      user-select: none;
    }
    @media (max-width: 720px) {
      header h1 {
        font-size: 2.2rem;
      }
      .cover {
        height: 130px;
        font-size: 1.4rem;
      }
    }
    @media (max-width: 480px) {
      header {
        flex-direction: column;
        gap: 15px;
      }
      header img.logo {
        width: 110px;
      }
      header h1 {
        font-size: 1.8rem;
      }
      .controls {
        flex-direction: column;
        gap: 15px;
      }
    }
  </style>
</head>
<body>
  <main class="container" role="main">
    <header>
      <img
        src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Emblem_of_Syria_%282025%E2%80%93present%29.svg/1200px-Emblem_of_Syria_%282025%E2%80%93present%29.svg.png"
        alt="شعار سوريا"
        class="logo"
        loading="lazy"
        width="150"
        height="auto"
      />
      <div class="texts">
        <h1>مكتبة كتب الأمن السيبراني</h1>
        <p class="lead">مكتبة مجانية لكتب الأمن السيبراني بجودة عالية</p>
      </div>
    </header>

    <section class="controls" aria-label="أدوات البحث والتصفية">
      <input
        type="search"
        id="search"
        placeholder="ابحث عن كتاب..."
        aria-label="بحث عن كتاب"
        autocomplete="off"
      />
      <select id="filter" aria-label="تصفية حسب الوسوم"></select>
    </section>

    <section id="grid" class="grid" aria-live="polite" aria-relevant="additions"></section>

    <footer role="contentinfo">
      © <span>Mohammad Almahamid 2025</span>
    </footer>
  </main>

  <script>
    const booksList = [
      {
        title: 'burp suite',
        author: 'Mohammad Almahamid',
        filename: 'Burp_Suite_Cookbook_Practical_recipes_to_help_you_master_web_penetration.pdf',
        tags: ['اختبار اختراق', 'مبتدئ'],
        cover: ''
      },
      {
        title: 'OSCP NOTES',
        author: 'Mohammad Almahamid',
        filename: 'OSCP NOTES.pdf',
        tags: ['أمن سيبراني', 'مبتدئ'],
        cover: ''
      },
      {
        title: 'Practical Malware Analysis',
        author: 'Mohammad Almahamid',
        filename: 'Practical Malware Analysis.pdf',
        tags: ['تحليل', 'متوسط'],
        cover: ''
      }
    ];

    const grid = document.getElementById('grid');
    const search = document.getElementById('search');
    const filter = document.getElementById('filter');

    function buildTagSet(list) {
      const set = new Set();
      list.forEach(book => {
        (book.tags || []).forEach(tag => set.add(tag));
      });
      return Array.from(set).sort();
    }

    function populateFilter() {
      const tags = buildTagSet(booksList);
      filter.innerHTML = `<option value="all">كل الوسوم</option>`;
      tags.forEach(tag => {
        filter.innerHTML += `<option value="${tag}">${tag}</option>`;
      });
    }

    function render() {
      const q = search.value.trim().toLowerCase();
      const f = filter.value;
      grid.innerHTML = '';
      const filtered = booksList.filter(book => {
        if (f !== 'all' && !(book.tags || []).includes(f)) return false;
        if (!q) return true;
        const text = (book.title + book.author + (book.tags || []).join(' ')).toLowerCase();
        return text.includes(q);
      });
      if (filtered.length === 0) {
        grid.innerHTML = `<p style="text-align:center;opacity:0.7;padding:30px;" role="alert">لا توجد كتب</p>`;
        return;
      }
      filtered.forEach(book => {
        const card = document.createElement('article');
        card.className = 'card';
        card.setAttribute('tabindex', '0');

        const cover = document.createElement('div');
        cover.className = 'cover';
        if (book.cover) {
          cover.style.backgroundImage = `url(${book.cover})`;
          cover.style.backgroundSize = 'cover';
          cover.style.backgroundPosition = 'center';
          cover.textContent = '';
        } else {
          cover.textContent = book.title
            .split(' ')
            .slice(0, 3)
            .map(w => w[0] || '')
            .join('')
            .toUpperCase();
        }

        const title = document.createElement('h2');
        title.className = 'title';
        title.textContent = book.title;

        const meta = document.createElement('p');
        meta.className = 'meta';
        meta.textContent = `المؤلف: ${book.author}`;

        const tagsWrap = document.createElement('div');
        tagsWrap.className = 'tags';
        (book.tags || []).slice(0, 6).forEach(tag => {
          const sp = document.createElement('span');
          sp.className = 'tag';
          sp.textContent = tag;
          tagsWrap.appendChild(sp);
        });

        const actions = document.createElement('div');
        actions.className = 'actions';

        const dl = document.createElement('a');
        dl.className = 'btn';
        dl.textContent = 'تحميل';
        dl.href = './books/' + encodeURIComponent(book.filename || '');
        dl.target = '_blank';
        dl.rel = 'noopener noreferrer';

        actions.appendChild(dl);

        card.appendChild(cover);
        card.appendChild(title);
        card.appendChild(meta);
        card.appendChild(tagsWrap);
        card.appendChild(actions);

        grid.appendChild(card);
      });
    }

    search.addEventListener('input', render);
    filter.addEventListener('change', render);

    populateFilter();
    render();
  </script>
</body>
</html>
